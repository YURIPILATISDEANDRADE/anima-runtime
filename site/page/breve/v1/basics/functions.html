<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Breve</title>
        <link rel="icon" href="res/icon/logo-v1b-small.png" />
        <link rel="stylesheet" href="../../../../css/style.css" />
    </head>
    <body class="hy" style="background-color: white">
        <div class="hy sidebar">
            <iframe class="hy display" src="../nav.html">The fuck?</iframe>
        </div>
        <div class="hy app wide flex vertical center left-text">
            <h2 class="hy">Functions</h2>
            <p class="hy">
                Functions are one way of creating reusable code in Breve. They
                are declared with the
                <code class="hy inline"><span class="kw">function</span></code
                >,
                <code class="hy inline"><span class="kw">func</span></code> or
                <code class="hy inline"><span class="kw">fn</span></code>
                keywords (up to your taste), as follows:
            </p>
            <code class="hy block">
                <span class="kw">func</span> &lt;name&gt;<span class="op"
                    >(</span
                >&lt;arg&gt;<span class="op">,</span>
                <span class="memo">...</span
                ><span class="op">): </span> &lt;type&gt;</code
            >
            <p class="hy">
                And can be followed by
                <code class="hy inline"><span class="op">=&gt;</span></code> and
                an expression,
                <code class="hy inline"
                    ><span class="op">{</span> <span class="memo">...</span>
                    <span class="op">}</span></code
                >
                for a code block, or
                <code class="hy inline"><span class="op">;</span></code> for
                forward declarations. For each part:
            </p>
            <p class="hy">
                <code class="hy inline">&lt;name&gt;</code> the function's name,
                and follows the same rule as the variable's name.
                <strong>Required.</strong>
            </p>
            <p class="hy">
                <code class="hy inline">&lt;arg&gt;</code> is a function
                argument. These are declared like variables, but
                <strong>without the location specifier</strong>, and can have up
                to 255 arguments. If more than one, each argument must be
                separated by a comma. If an argument has a default value, that
                argument <strong>must</strong> be placed after all required
                arguments.
                <strong>Optional.</strong>
            </p>
            <p class="hy">
                <code class="hy inline">&lt;type&gt;</code> is the function's
                return type.
                <strong
                    >Optional for non-forward declarations, defaults to
                    auto-deducing the type.</strong
                >
            </p>
            <p class="hy">
                Thusly, a function can be declared like the following:
            </p>
            <code class="hy block">
                <span class="memo"
                    >// Declaring the function here, code comes later</span
                ><br />
                <span class="kw">function</span>
                <span class="fn">doNothing</span><span class="op">():</span>
                <span class="kw">void</span><span class="op">;</span
                ><br /><br />
                <span class="memo">// Declaring a single-line function</span
                ><br />
                <span class="kw">func</span> <span class="fn">square</span
                ><span class="op">(</span>num<span class="op">:</span>
                <span class="kw">real</span><span class="op">):</span>
                <span class="kw">real</span> <span class="op">=&gt; (</span>num
                <span class="op">*</span> num<span class="op">);</span
                ><br /><br />
                <span class="memo">// Declaring a full function</span><br />
                <span class="kw">fn</span> <span class="fn">factorial</span
                ><span class="op">(</span>num<span class="op">:</span>
                <span class="kw">uint</span><span class="op">):</span>
                <span class="kw">uint</span>
                <span class="op">{</span><br />
                &nbsp;&nbsp;&nbsp;&nbsp;out <span class="op">=</span>
                <span class="num">0</span><span class="op">;</span><br />
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">repeat</span> i
                <span class="op">:</span> num
                <br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out
                <span class="op">+=</span> <span class="op">(</span>i
                <span class="op">+</span> <span class="num">1</span
                ><span class="op">);</span><br />
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="kw">return</span> out<span
                    class="op"
                    >;</span
                ><br />
                <span class="op">}</span>
            </code>
            <p class="hy">And many other possible ways.</p>
            <hr class="hy" />
            <h2 class="hy">External Functions</h2>
            <p class="hy">
                External functions are your way of calling cross-language code.
                They come in two types: <strong>Out Functions</strong> and
                <strong>Shared Functions</strong>.
            </p>
            <p class="hy">
                <strong>Out Functions</strong> are one way of calling
                cross-language code. Out functions execute code that is
                <strong>defined by the ARTE implementation</strong>.
            </p>
            <p class="hy">
                Declared via the
                <code class="hy inline"><span class="kw">out</span></code>
                keyword, followed by how one would forward declare a function.
            </p>
            <p class="hy">
                <strong>Shared Functions</strong>, much like out functions, are
                also for calling cross-language code. Unlike their siblings,
                however, shared functions
                <strong
                    >execute code defined in an Anima-compatible shared
                    library</strong
                >.
            </p>
            <p class="hy">
                Declared via
                <code class="hy inline"
                    ><span class="kw">out shared</span><span class="op">[</span
                    ><span class="str">"&lt;LIBRARY NAME&gt;"</span>
                    <span class="op">:</span>
                    <span class="str">"&lt;FUNCTION NAME&gt;"</span
                    ><span class="op">]</span></code
                >
                , followed by how one would forward declare a function.
            </p>
        </div>
    </body>
</html>
